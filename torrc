# Tor data directory for storing keys, state, etc.
DataDirectory /var/lib/tor

# Log file for Tor notices
Log notice file /var/log/tor/notices.log

# Configure the WebTunnel client as a pluggable transport
# 'webtunnel' is the name of the transport, 'exec /usr/local/bin/client' specifies the path to the client binary.
ClientTransportPlugin webtunnel exec /usr/local/bin/client

# Enable the use of bridges to connect to the Tor network
UseBridges 1

# Specify the file containing the WebTunnel bridge lines
BridgeFile /etc/tor/webtunnel_bridges.txt

# Hidden Service configuration
# HiddenServiceDir specifies the directory where Tor will store the hidden service keys and hostname.
HiddenServiceDir /var/lib/tor/hidden_service

# HiddenServicePort maps a virtual port on the hidden service to a physical port on the local machine.
# Here, hidden service port 80 (standard HTTP) is mapped to localhost port 8080,
# which is where Nginx will be listening for hidden service traffic.
HiddenServicePort 80 127.0.0.1:8080
