SocksPort 9050
DataDirectory /var/lib/tor

# Use WebTunnel bridges
UseBridges 1
ClientTransportPlugin webtunnel exec /usr/local/bin/webtunnel

# Bridge definitions
Bridge webtunnel [2001:db8:b260:52a8:6a2:a93a:6c69:8fcb]:443 2307A05F4EA0E8E215100D3934157213E564AE7E url=https://z.igrp.site/eg9PbqaxSvIbjtbVZMt9H7xF ver=0.0.1
Bridge webtunnel [2001:db8:75db:c6f2:1dae:121:7a04:9e9d]:443 4B673DF159CFC12AC91FC2E6AC3047FF2183FCEA url=http://freifunk.ckgc.de/xBKEzZunnc3A5pcf6jaeVyPL ver=0.0.1


# Fix "No more HSDir available to query" issue
CircuitBuildTimeout 90
LearnCircuitBuildTimeout 0
SafeLogging 0
Log notice stdout

# Connection stability parameters
NumEntryGuards 8
NumDirectoryGuards 8
KeepalivePeriod 60
NewCircuitPeriod 40
MaxCircuitDirtiness 1200

# Advanced hidden service configuration
HiddenServiceDir /var/lib/tor/hidden_service/
HiddenServicePort 80 localhost:80
HiddenServiceVersion 3
# Improve hidden service reliability
HiddenServiceNumIntroductionPoints 4
# Export circuit ID (correctly spelled and with valid value)
HiddenServiceExportCircuitID none

# Additional stability options
AvoidDiskWrites 1
ConnectionPadding 1
